/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./blockchain/contract.js":
/*!********************************!*\
  !*** ./blockchain/contract.js ***!
  \********************************/
/*! exports provided: OnigiriData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OnigiriData\", function() { return OnigiriData; });\nlet OnigiriData = {\n    address: \"0x86B87A338D91dd92C5608F84b74aEaAc575E4b89\",\n    abi: [{\n            \"constant\": true,\n            \"inputs\": [],\n            \"name\": \"lockboxTotal\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"signature\": \"0x197748e0\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [],\n            \"name\": \"investorsCount\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"signature\": \"0x2b711051\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [],\n            \"name\": \"minInvest\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"signature\": \"0x63fd9e38\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [{\n                \"name\": \"\",\n                \"type\": \"address\"\n            }],\n            \"name\": \"investors\",\n            \"outputs\": [{\n                    \"name\": \"invested\",\n                    \"type\": \"uint256\"\n                },\n                {\n                    \"name\": \"lockbox\",\n                    \"type\": \"uint256\"\n                },\n                {\n                    \"name\": \"withdrawn\",\n                    \"type\": \"uint256\"\n                },\n                {\n                    \"name\": \"lastInvestmentTime\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"signature\": \"0x6f7bc9be\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [],\n            \"name\": \"withdrawnProfitTotal\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"signature\": \"0x7cc7310f\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [{\n                \"name\": \"\",\n                \"type\": \"address\"\n            }],\n            \"name\": \"devCommission\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"signature\": \"0x98f3f8e6\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [],\n            \"name\": \"donatedTotal\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"signature\": \"0xc831ae03\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [{\n                \"name\": \"\",\n                \"type\": \"address\"\n            }],\n            \"name\": \"affiliateCommission\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"signature\": \"0xc8582572\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [],\n            \"name\": \"affiliateCommissionWithdrawnTotal\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"signature\": \"0xcc38c8ee\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [],\n            \"name\": \"gamesIncomeTotal\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"signature\": \"0xd6b9bf26\"\n        },\n        {\n            \"payable\": true,\n            \"stateMutability\": \"payable\",\n            \"type\": \"fallback\"\n        },\n        {\n            \"anonymous\": false,\n            \"inputs\": [{\n                    \"indexed\": false,\n                    \"name\": \"investor\",\n                    \"type\": \"address\"\n                },\n                {\n                    \"indexed\": false,\n                    \"name\": \"amount\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"name\": \"Invested\",\n            \"type\": \"event\",\n            \"signature\": \"0xc3f75dfc78f6efac88ad5abb5e606276b903647d97b2a62a1ef89840a658bbc3\"\n        },\n        {\n            \"anonymous\": false,\n            \"inputs\": [{\n                    \"indexed\": false,\n                    \"name\": \"investor\",\n                    \"type\": \"address\"\n                },\n                {\n                    \"indexed\": false,\n                    \"name\": \"amount\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"name\": \"Renvested\",\n            \"type\": \"event\",\n            \"signature\": \"0x31b79d553a711214890a10f851808f023529bb2f0ce14b7954818f3746c8f174\"\n        },\n        {\n            \"anonymous\": false,\n            \"inputs\": [{\n                    \"indexed\": false,\n                    \"name\": \"affiliate\",\n                    \"type\": \"address\"\n                },\n                {\n                    \"indexed\": false,\n                    \"name\": \"amount\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"name\": \"WithdrawnAffiliateCommission\",\n            \"type\": \"event\",\n            \"signature\": \"0xf00b94e6d3eae70f13396fc1316a95fffe65e4e4268f517278311cd9618e75e3\"\n        },\n        {\n            \"anonymous\": false,\n            \"inputs\": [{\n                    \"indexed\": false,\n                    \"name\": \"investor\",\n                    \"type\": \"address\"\n                },\n                {\n                    \"indexed\": false,\n                    \"name\": \"amount\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"name\": \"WithdrawnProfit\",\n            \"type\": \"event\",\n            \"signature\": \"0x9acd446c7c5d67289e9ab24bf8d274c3e60b36709aad13c9ccefec55a25c00bb\"\n        },\n        {\n            \"anonymous\": false,\n            \"inputs\": [{\n                    \"indexed\": false,\n                    \"name\": \"investor\",\n                    \"type\": \"address\"\n                },\n                {\n                    \"indexed\": false,\n                    \"name\": \"amount\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"name\": \"WithdrawnLockbox\",\n            \"type\": \"event\",\n            \"signature\": \"0x2a14c6c4baf70f0f57eb7d8bed4856b2a7f80a238a2dce681b404e0cae9dce7b\"\n        },\n        {\n            \"constant\": false,\n            \"inputs\": [],\n            \"name\": \"fromGame\",\n            \"outputs\": [],\n            \"payable\": true,\n            \"stateMutability\": \"payable\",\n            \"type\": \"function\",\n            \"signature\": \"0xa360fea7\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [{\n                \"name\": \"_address\",\n                \"type\": \"address\"\n            }],\n            \"name\": \"getInvested\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"signature\": \"0x2ae2b643\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [{\n                \"name\": \"_address\",\n                \"type\": \"address\"\n            }],\n            \"name\": \"getLockBox\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"signature\": \"0x5e70dec5\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [{\n                \"name\": \"_address\",\n                \"type\": \"address\"\n            }],\n            \"name\": \"getWithdrawn\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"signature\": \"0xae66d948\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [{\n                \"name\": \"_address\",\n                \"type\": \"address\"\n            }],\n            \"name\": \"getLastInvestmentTime\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"signature\": \"0x6c116a2e\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [],\n            \"name\": \"getBalance\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"signature\": \"0x12065fe0\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [],\n            \"name\": \"guaranteedBalance\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"signature\": \"0x550dd212\"\n        },\n        {\n            \"constant\": false,\n            \"inputs\": [{\n                \"name\": \"_affiliate\",\n                \"type\": \"address\"\n            }],\n            \"name\": \"invest\",\n            \"outputs\": [],\n            \"payable\": true,\n            \"stateMutability\": \"payable\",\n            \"type\": \"function\",\n            \"signature\": \"0x03f9c793\"\n        },\n        {\n            \"constant\": false,\n            \"inputs\": [{\n                \"name\": \"_address\",\n                \"type\": \"address\"\n            }],\n            \"name\": \"updateDevEscrow\",\n            \"outputs\": [],\n            \"payable\": false,\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\",\n            \"signature\": \"0x15682cc9\"\n        },\n        {\n            \"constant\": false,\n            \"inputs\": [],\n            \"name\": \"withdrawDevCommission\",\n            \"outputs\": [],\n            \"payable\": false,\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\",\n            \"signature\": \"0x699333aa\"\n        },\n        {\n            \"constant\": false,\n            \"inputs\": [],\n            \"name\": \"withdrawAffiliateCommission\",\n            \"outputs\": [],\n            \"payable\": false,\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\",\n            \"signature\": \"0xb77fc549\"\n        },\n        {\n            \"constant\": false,\n            \"inputs\": [],\n            \"name\": \"withdrawProfit\",\n            \"outputs\": [],\n            \"payable\": false,\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\",\n            \"signature\": \"0x959499b6\"\n        },\n        {\n            \"constant\": false,\n            \"inputs\": [],\n            \"name\": \"withdrawLockBoxAndClose\",\n            \"outputs\": [],\n            \"payable\": false,\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\",\n            \"signature\": \"0xc1a63517\"\n        },\n        {\n            \"constant\": false,\n            \"inputs\": [],\n            \"name\": \"reinvestProfit\",\n            \"outputs\": [],\n            \"payable\": false,\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"function\",\n            \"signature\": \"0xe3b61135\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [{\n                \"name\": \"_investor\",\n                \"type\": \"address\"\n            }],\n            \"name\": \"calculateProfit\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"view\",\n            \"type\": \"function\",\n            \"signature\": \"0xb1c17506\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [{\n                \"name\": \"_balance\",\n                \"type\": \"uint256\"\n            }],\n            \"name\": \"percentRateInternal\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"pure\",\n            \"type\": \"function\",\n            \"signature\": \"0x567541a9\"\n        },\n        {\n            \"constant\": true,\n            \"inputs\": [{\n                \"name\": \"_balance\",\n                \"type\": \"uint256\"\n            }],\n            \"name\": \"percentRatePublic\",\n            \"outputs\": [{\n                \"name\": \"\",\n                \"type\": \"uint256\"\n            }],\n            \"payable\": false,\n            \"stateMutability\": \"pure\",\n            \"type\": \"function\",\n            \"signature\": \"0xe1f4e68d\"\n        }\n    ],\n\n\n\n\n\n    build: function () {\n        return web3.eth.contract(this.abi).at(this.address);\n    }\n}\n\n\n\n//# sourceURL=webpack:///./blockchain/contract.js?");

/***/ }),

/***/ "./js/index.js":
/*!*********************!*\
  !*** ./js/index.js ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _blockchain_contract__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blockchain/contract */ \"./blockchain/contract.js\");\n\n\n//  TODO: remove console.logs\nconst App = {\n    onigiriBankContract: null,\n    rewardsAvailable: null,\n    profitWithdrawalsTotal: null,\n    lockBoxHolders: null,\n    lockBoxAmountTotal: null,\n    contractBalance: null,\n    affiliateCommissionWithdrawnTotal: null,\n    gamesIncomeTotal: null,\n    donatedTotal: null,\n    currentAddressProfitWithdrawals: null,\n\n    currentAddress: null,\n    currentAddressLockBox: null,\n    currentAddressActiveProfit: null,\n    currentAddressActivePersent: null,\n    currentAddressActiveCommisiion: null,\n\n    setup: async () => {\n        console.log(\"           setup\");\n        App.currentAddress = await App.getCurrentAddress();\n        document.getElementById(\"currentAddress\").innerText = App.currentAddress;\n\n        App.fetchAffiliateFromURL();\n        App.createContract();\n        App.setupEventListeners();\n        App.updateUI();\n    },\n\n    fetchAffiliateFromURL: () => {\n        let url = new URL(window.location.href);\n        let searchParams = new URLSearchParams(url.search);\n        let affiliate = searchParams.get('ref');\n        console.log(\"affiliate: \", affiliate);\n\n        if (!isNaN(affiliate) && affiliate != App.currentAddress) {\n            document.getElementById(\"affiliateAddress\").value = affiliate;\n        } else {\n            document.getElementById(\"affiliateAddress\").value = \"\";\n        }\n    },\n\n    createContract: () => {\n        console.warn(\"TODO: use deployed contract\");\n        App.onigiriBankContract = _blockchain_contract__WEBPACK_IMPORTED_MODULE_0__[\"OnigiriData\"].build();\n\n        // console.log(App.onigiriBankContract);\n        console.log(\"OnigiriBank contract was just created.\");\n    },\n\n    getCurrentAddress: async () => {\n        return new Promise(resolve => {\n            web3.eth.getAccounts(function (err, res) {\n                if (err) {\n                    // console.error(\"getCurrentAddress: \", err);\n                } else {\n                    resolve(res[0]);\n                }\n            });\n        });\n    },\n\n    setupEventListeners: () => {\n        console.log(\"setupEventListeners\");\n\n        App.onigiriBankContract.Invested({\n            from: App.currentAddress\n        }, (err, res) => {\n            if (err) {\n                console.error(err);\n            } else {\n                App.updateLockBox();\n            }\n        });\n\n        App.onigiriBankContract.Renvested({\n            from: App.currentAddress\n        }, (err, res) => {\n            if (err) {\n                console.error(err);\n            } else {\n                App.updateLockBox();\n            }\n        });\n\n        App.onigiriBankContract.WithdrawnLockbox({\n            from: App.currentAddress\n        }, (err, res) => {\n            if (err) {\n                console.error(err);\n            } else {\n                App.updateUI();\n            }\n        });\n\n        App.onigiriBankContract.WithdrawnProfit({\n            from: App.currentAddress\n        }, (err, res) => {\n            if (err) {\n                console.error(err);\n            } else {\n                App.updateUI();\n            }\n        });\n\n        App.onigiriBankContract.WithdrawnAffiliateCommission({\n            from: App.currentAddress\n        }, (err, res) => {\n            if (err) {\n                console.error(err);\n            } else {\n                App.updateUI();\n            }\n        });\n    },\n\n    //  Update UI\n    updateUI: async () => {\n        console.log(\"           updateUI\");\n        //  Dashboard\n        await App.updateActiveProfit();\n        await App.updateActiveCommission();\n        await App.updateLockBox();\n        await App.updatePercentRate(web3.toWei(App.currentAddressLockBox));\n        await App.updateRewardsAvailable();\n        await App.updateProfitWithdrawalsTotal();\n\n        //  Stats\n        await App.updateLockBoxHolders();\n        await App.updateLockBoxAmountTotal();\n        await App.updateContractBalance();\n        await App.updateAffiliateCommissionWithdrawnTotal();\n        await App.updateGamesIncomeTotal();\n        await App.updateDonatedTotalTotal();\n        await App.updateCurrentAddressProfitWithdrawals();\n    },\n\n    updateLockBox: async () => {\n        App.currentAddressLockBox = web3.fromWei(await App.getLockBoxPromise(), 'ether');\n        document.getElementById(\"activeLockBox\").innerText = App.currentAddressLockBox.toFixed(4) + \" ETH\";\n    },\n\n    updateActiveProfit: async () => {\n        App.currentAddressActiveProfit = web3.fromWei(await App.getActiveProfitPromise(), 'ether');\n        document.getElementById(\"activeProfit\").innerText = App.currentAddressActiveProfit.toFixed(4);\n    },\n\n    updateActiveCommission: async () => {\n        App.currentAddressActiveCommisiion = web3.fromWei(await App.getActiveCommissionPromise(), 'ether');\n        document.getElementById(\"activeCommision\").innerText = App.currentAddressActiveCommisiion.toFixed(4);\n    },\n\n    updatePercentRate: async (lockBoxAmount) => {\n        App.currentAddressActivePersent = parseInt(await App.getActivePercentRatePromise(lockBoxAmount)) / 100;\n        document.getElementById(\"payoutPersent\").innerText = App.currentAddressActivePersent;\n    },\n\n    updateRewardsAvailable: async () => {\n        let contractBalance = web3.fromWei(await App.getContractBalancePromise(), 'ether');\n        let guaranteedBalance = web3.fromWei(await App.getGuaranteedBalancesPromise(), 'ether');\n\n        App.rewardsAvailable = contractBalance - guaranteedBalance;\n        document.getElementById(\"totalRewardsPool\").innerText = App.rewardsAvailable.toFixed(4);\n    },\n\n    updateProfitWithdrawalsTotal: async () => {\n        App.profitWithdrawalsTotal = web3.fromWei(await App.getProfitWithdrawalsTotalPromise(), 'ether');\n        document.getElementById(\"profitWithdrawalsTotal\").innerText = App.profitWithdrawalsTotal.toFixed(4);\n    },\n\n    updateLockBoxHolders: async () => {\n        App.lockBoxHolders = parseInt(await App.getLockBoxHoldersPromise());\n        document.getElementById(\"members\").innerText = App.lockBoxHolders;\n    },\n\n    updateLockBoxAmountTotal: async () => {\n        App.lockBoxAmountTotal = web3.fromWei(await App.getUpdateLockBoxAmountTotalPromise(), 'ether');\n        document.getElementById(\"lockBoxAmountTotal\").innerText = App.lockBoxAmountTotal.toFixed(4);\n    },\n\n    updateContractBalance: async () => {\n        App.contractBalance = web3.fromWei(await App.getContractBalancePromise(), 'ether');\n        document.getElementById(\"contractBalance\").innerText = App.contractBalance.toFixed(4);\n    },\n\n    updateAffiliateCommissionWithdrawnTotal: async () => {\n        App.affiliateCommissionWithdrawnTotal = web3.fromWei(await App.getAffiliateCommissionWithdrawnTotalPromise(), 'ether');\n        document.getElementById(\"affiliateCommissionWithdrawnTotal\").innerText = App.affiliateCommissionWithdrawnTotal.toFixed(4);\n    },\n\n    updateGamesIncomeTotal: async () => {\n        App.gamesIncomeTotal = web3.fromWei(await App.getGamesIncomeTotalPromise(), 'ether');\n        document.getElementById(\"gamesIncomeTotal\").innerText = App.gamesIncomeTotal.toFixed(4);\n    },\n\n    updateDonatedTotalTotal: async () => {\n        App.donatedTotal = web3.fromWei(await App.getDonatedTotalPromise(), 'ether');\n        document.getElementById(\"donatedTotal\").innerText = App.donatedTotal.toFixed(4);\n    },\n\n    updateCurrentAddressProfitWithdrawals: async () => {\n        App.currentAddressProfitWithdrawals = web3.fromWei(await App.getCurrentAddressProfitWithdrawals(), 'ether');\n        document.getElementById(\"withdrawnByInvestor\").innerText = App.currentAddressProfitWithdrawals.toFixed(4);\n    },\n\n    //  READ\n\n    getLockBoxPromise: async () => {\n        console.log(\"getLockBox start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.getLockBox(App.currentAddress, (err, res) => {\n                console.log(\"getLockBox finish... \");\n                if (err) {\n                    reject(err);\n                } else {\n                    // console.log(\"getLockBox res: \", res);\n                    resolve(res);\n                }\n            });\n        });\n    },\n\n    getActiveProfitPromise: async () => {\n        console.log(\"getActiveProfit start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.calculateProfit(App.currentAddress, (err, res) => {\n                if (err) {\n                    console.error(err);\n                    reject(err);\n                } else {\n                    console.log(\"getActiveProfit: \", res);\n                    resolve(res)\n                }\n                console.log(\"getActiveProfit finish... \");\n            });\n        });\n    },\n\n    getActiveCommissionPromise: async () => {\n        console.log(\"getActiveCommissionPromise start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.affiliateCommission(App.currentAddress, (err, res) => {\n                if (err) {\n                    console.error(err);\n                    reject(err);\n                } else {\n                    resolve(res)\n                }\n                console.log(\"getActiveCommissionPromise finish... \");\n            });\n        });\n    },\n\n    getActivePercentRatePromise: async (lockBoxAmount) => {\n        console.log(\"getActivePercentRatePromise start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.percentRatePublic(lockBoxAmount, (err, res) => {\n                if (err) {\n                    console.error(err);\n                    reject(err);\n                } else {\n                    resolve(res)\n                }\n                console.log(\"getActivePercentRatePromise finish... \");\n            });\n        });\n    },\n\n    getUserwithdrawnTotal: async () => {\n        console.log(\"getUserwithdrawnTotal start... \");\n        App.onigiriBankContract.withdrawnProfitTotal((err, res) => {\n            if (err) {\n                console.error(err);\n            } else {\n                document.getElementById(\"userwithdrawnTotal\").innerText = web3.fromWei(res, 'ether') + \" ETH\";\n            }\n            console.log(\"getUserwithdrawnTotal finish... \");\n        });\n    },\n\n    getActiveCommision: async () => {\n        console.log(\"getActiveCommision start... \");\n        App.onigiriBankContract.affiliateCommission(App.currentAddress, (err, res) => {\n            if (err) {\n                console.error(err);\n            } else {\n                document.getElementById(\"activeCommision\").innerText = web3.fromWei(res, 'ether') + \" ETH\";\n            }\n            console.log(\"getActiveCommision finish... \");\n        });\n    },\n\n    getContractBalancePromise: async () => {\n        console.log(\"getContractBalancePromise start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.getBalance((err, res) => {\n                if (err) {\n                    console.error(err);\n                    reject(err);\n                } else {\n                    resolve(res)\n                }\n                console.log(\"getContractBalancePromise finish... \");\n            });\n        });\n    },\n\n    getGuaranteedBalancesPromise: async () => {\n        console.log(\"getGuaranteedBalancesPromise start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.guaranteedBalance((err, res) => {\n                if (err) {\n                    console.error(err);\n                    reject(err);\n                } else {\n                    resolve(res)\n                }\n                console.log(\"getGuaranteedBalancesPromise finish... \");\n            });\n        });\n    },\n\n    getProfitWithdrawalsTotalPromise: async () => {\n        console.log(\"getProfitWithdrawalsTotalPromise start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.withdrawnProfitTotal((err, res) => {\n                if (err) {\n                    console.error(err);\n                    reject(err);\n                } else {\n                    resolve(res)\n                }\n                console.log(\"getProfitWithdrawalsTotalPromise finish... \");\n            });\n        });\n    },\n\n    getLockBoxHoldersPromise: async () => {\n        console.log(\"getLockBoxHoldersPromise start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.investorsCount((err, res) => {\n                if (err) {\n                    console.error(err);\n                    reject(err);\n                } else {\n                    resolve(res)\n                }\n                console.log(\"getLockBoxHoldersPromise finish... \");\n            });\n        });\n    },\n\n    getUpdateLockBoxAmountTotalPromise: async () => {\n        console.log(\"getUpdateLockBoxAmountTotalPromise start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.lockboxTotal((err, res) => {\n                if (err) {\n                    console.error(err);\n                    reject(err);\n                } else {\n                    resolve(res)\n                }\n                console.log(\"getUpdateLockBoxAmountTotalPromise finish... \");\n            });\n        });\n    },\n\n    getAffiliateCommissionWithdrawnTotalPromise: async () => {\n        console.log(\"getAffiliateCommissionWithdrawnTotalPromise start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.affiliateCommissionWithdrawnTotal((err, res) => {\n                if (err) {\n                    console.error(err);\n                    reject(err);\n                } else {\n                    resolve(res)\n                }\n                console.log(\"getAffiliateCommissionWithdrawnTotalPromise finish... \");\n            });\n        });\n    },\n\n    getGamesIncomeTotalPromise: async () => {\n        console.log(\"getGamesIncomeTotalPromise start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.gamesIncomeTotal((err, res) => {\n                if (err) {\n                    console.error(err);\n                    reject(err);\n                } else {\n                    resolve(res)\n                }\n                console.log(\"getGamesIncomeTotalPromise finish... \");\n            });\n        });\n    },\n\n    getDonatedTotalPromise: async () => {\n        console.log(\"getDonatedTotalPromise start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.donatedTotal((err, res) => {\n                if (err) {\n                    console.error(err);\n                    reject(err);\n                } else {\n                    resolve(res)\n                }\n                console.log(\"getDonatedTotalPromise finish... \");\n            });\n        });\n    },\n\n    getCurrentAddressProfitWithdrawals: async () => {\n        console.log(\"getCurrentAddressProfitWithdrawals start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.getWithdrawn(App.currentAddress, (err, res) => {\n                if (err) {\n                    console.error(err);\n                    reject(err);\n                } else {\n                    resolve(res);\n                }\n                console.log(\"getCurrentAddressProfitWithdrawals finish... \");\n            });\n        });\n    },\n\n\n    //  WRITE\n    investETH: async () => {\n        let amountProvided = document.getElementById(\"investAmount\").value;\n\n        if (amountProvided.length == 0 || isNaN(amountProvided)) {\n            alert(\"Wrong amount provided\");\n            return;\n        }\n\n        const MIN_AMOUNT = 0.025; //ETH\n        if (amountProvided < MIN_AMOUNT) {\n            alert(\"Minimum amount to invest is 0.025 ETH\");\n            return;\n        }\n\n        let affilaiateValid = \"0x0000000000000000000000000000000000000000\";\n        let affiliateProvided = document.getElementById(\"affiliateAddress\").value;\n\n        if (affiliateProvided.length > 0) {\n            let affiliateChecksummed = web3.toChecksumAddress(affiliateProvided);\n            if (!web3.isAddress(affiliateChecksummed)) {\n                alert(\"wrong affiliate provided\");\n                return;\n            }\n\n            affilaiateValid = affiliateChecksummed;\n        }\n        console.log(\"investETH start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.invest(affilaiateValid, {\n                value: web3.toWei(amountProvided, \"ether\")\n            }, (err, res) => {\n                if (err) {\n                    console.error(\"investETH: \", err);\n                    reject(err);\n                } else {\n                    resolve(res);\n                }\n                console.log(\"investETH finish... \");\n            });\n        });\n    },\n\n    withdrawLockbox: async () => {\n        console.log(\"withdrawLockbox start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.withdrawLockBoxAndClose((err, res) => {\n                if (err) {\n                    console.error(\"withdrawLockbox: \", err);\n                    reject(err);\n                } else {\n                    resolve(res);\n                }\n                console.log(\"withdrawLockbox finish... \");\n            });\n        });\n    },\n\n    withdrawProfit: async () => {\n        console.log(\"withdrawProfit start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.withdrawProfit((err, res) => {\n                if (err) {\n                    console.error(\"withdrawProfit: \", err);\n                    reject(err);\n                } else {\n                    resolve(res);\n                }\n                console.log(\"withdrawProfit finish... \");\n            });\n        });\n    },\n\n    reinvestProfit: async () => {\n        console.log(\"reinvestProfit start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.reinvestProfit((err, res) => {\n                if (err) {\n                    console.error(\"reinvestProfit: \", err);\n                    reject(err);\n                } else {\n                    resolve(res);\n                }\n                console.log(\"reinvestProfit finish... \");\n            });\n        });\n    },\n\n    withdrawAffiliateCommision: async () => {\n        console.log(\"withdrawAffiliateCommision start... \");\n        return new Promise((resolve, reject) => {\n            App.onigiriBankContract.withdrawAffiliateCommission((err, res) => {\n                if (err) {\n                    console.error(\"withdrawAffiliateCommision: \", err);\n                    reject(err);\n                } else {\n                    resolve(res);\n                }\n                console.log(\"withdrawAffiliateCommision finish... \");\n            });\n        });\n    },\n\n    donateETH: async () => {\n        let donateAmountProvided = document.getElementById(\"donateAmount\").value;\n\n        if (donateAmountProvided.length == 0 || isNaN(donateAmountProvided)) {\n            alert(\"Wrong amount provided\");\n            return;\n        }\n\n        console.log(\"donateETH start... \");\n        return new Promise((resolve, reject) => {\n\n            web3.eth.sendTransaction({\n                to: App.onigiriBankContract.address,\n                value: web3.toWei(donateAmountProvided, \"ether\")\n            }, (err, res) => {\n                if (err) {\n                    console.error(\"donateETH: \", err);\n                    reject(err);\n                } else {\n                    App.updateUI();\n                    resolve(res);\n                }\n                console.log(\"donateETH finish... \");\n            });\n        });\n    }\n}\n\nwindow.App = App;\n\nwindow.addEventListener('load', async () => {\n    console.log(\"           load new\");\n    // Modern dapp browsers...\n    if (window.ethereum) {\n        window.web3 = new Web3(ethereum);\n        try {\n            // Request account access if needed\n            await ethereum.enable();\n\n            App.setup();\n        } catch (error) {\n            console.error(\"ethereum.enable() ERROR: \", error);\n            alert(error);\n        }\n    }\n    // Legacy dapp browsers...\n    else if (window.web3) {\n        window.web3 = new Web3(web3.currentProvider);\n    }\n    // Non-dapp browsers...\n    else {\n        console.warning('Non-Ethereum browser detected. You should consider trying MetaMask!');\n    }\n});\n\nwindow.addEventListener(\"focus\", async () => {\n    console.log(\"           focus\");\n\n    if (await App.getCurrentAddress() != App.currentAddress) {\n        App.setup();\n    } else {\n        App.updateUI();\n    }\n});\n\n//# sourceURL=webpack:///./js/index.js?");

/***/ })

/******/ });